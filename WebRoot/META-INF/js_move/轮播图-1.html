<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>轮播图</title>
<script src="ming.js"></script>
<script language="javascript">
	window.onload = function() {
		var oDiv = document.getElementsByTagName('div');
		var oBtn = document.getElementsByTagName('input');
		oBtn[0].isWork = false;
		
		oBtn[0].onclick = function () {
			var num = 0;
			if( !oBtn[0].isWork) {
				oBtn[0].isWork = true;
				var arr = [];
				for(var i=0; i<oDiv.length; i++) {
					arr.push( parseInt(getStyle( oDiv[i], 'left')));
				}
				arr.unshift(arr.pop());
				for(var j=0; j<oDiv.length; j++) {
					doMove( oDiv[j], 'left', 10, arr[j], function () {
						num ++;
						if( num === arr.length) {
							oBtn[0].isWork = false;
						}
					});
				}
				//alert(arr);
			}
		};
	};
	function getStyle ( obj, attr) {
		return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
	}
</script>
</head>

<body>
 <input type="button" value="←"/>
 <div style="width: 200px; height: 100px; background: #F00; position: absolute; left: 100px; top: 300px;"></div>
 <div style="width: 200px; height: 100px; background: #FF0; position: absolute; left: 350px; top: 300px;"></div>
 <div style="width: 200px; height: 100px; background: #00F; position: absolute; left: 600px; top: 300px;"></div>
</body>
</html>
